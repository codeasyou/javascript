<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>7-稳妥构造函数模式</title>
</head>
<body>


<script>

/*
* 所谓稳妥对象，指的是没有公共属性，而且其方法也不引用this对象。
* 稳妥对象最适合在一些安全的环境中（这些环境中会禁止使用this和new）,或者在防止数据被其他应用程序(如Mashup程序)改动时使用。
* 稳妥构造函数遵循与寄生构造函数类似的模式，但有两点不同：一是新创建对象的实例方法不引用this;而是不使用new操作符调用构造函数。
* 按照稳妥构造函数的要求，可以将前面的Person构造函数改写如下：
*
*
*
*
* */

function Person(name,age,job) {
    //创建要返回的对象
    var o = new Object();

    //可以在这里创建私有变量和函数


    //添加方法
    o.sayName =function () {
        console.log(name);
    }

    //返回对象
    return o;
}

/*
* 注意，在以这种模式创建的对象中，除了使用sayName()方法外，没有其他办法访问name的值。可以像下面使用稳妥的Person构造函数。
*
* */

var friend = new Person("杜甫",60,"诗人");
friend.sayName();//杜甫


    /*
    * 这样， 变量 person 中 保存 的 是一 个 稳妥 对象， 而 除了 调用 sayName() 方 法外， 没有 别的 方式 可以 访问 其数 据 成员。 即使 有其 他 代码 会 给 这个 对象 添加 方法 或 数据 成员， 但也 不可 能有 别的 办法 访问 传入 到 构造 函数 中的 原始 数据。
    * */


    /*
    * 稳妥构造函数模式的问题
    * 与寄生构造函数模式类似，使用稳妥构造函数模式创建的对象与构造函数之间也没有什么关系，因此instanceof操作符对这种对象也没有什么意义。
    * */








</script>





</body>
</html>
