<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>什么是闭包</title>
</head>
<body>
<button>按钮1</button>
<button>按钮2</button>
<button>按钮3</button>
<script type="text/html">
    //使用闭包，正确弹出被点击的按钮
    var btns = document.getElementsByTagName("button");
    console.log(btns);
    for (var i = 0; i < btns.length; i++) {
        (function (i) {
            var btn = btns[i];
            btn.onclick = function () {
                alert("点击了第" + (i+1) + "个按钮")
            }
        })(i);
    }
</script>


<script type="text/html">
    function createComparisonFunction(prototypeName){

        return function (object1,object2) {
            var value1 = object1[prototypeName];
            var value2 = object2[prototypeName];
            if(value1<value2){
                return -1;
            }else if(value1>value2){
                return 1;
            }else{
                return 0;
            }
        }
    }
</script>

<script>
    function compare(value1,value2) {
        if(value1<value2){
            return -1;
        }else if(value1>value2){
            return 1;
        }else{
            return 0;
        }
    }

    var result = compare(5,10);
    console.log(result);//-1

    var compare = createComparisionFunction("name");
    var result = compare({name:"Nicholas"},{name:"Greg"});

    //创建函数
    var compareNames = createComparisionFunction("name");

    //调用函数
    var result = compareNames({name:"Nicholas"},{name:"Greg"});

    //解除对匿名函数的引用(以便释放内存)
    compareNames = null;






</script>






</body>
</html>
